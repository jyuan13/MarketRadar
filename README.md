# MarketRadar - 全球金融市场数据雷达

**MarketRadar** 是一个高性能的自动化金融数据采集与分发系统。它旨在为量化投资者、基金玩家及数据分析师提供每日最新的全球核心资产 K 线数据，支持多线程并发抓取与自动化邮件推送。

## 🎯 核心功能

### 1. 全球多市场覆盖
系统预设了五大核心监控板块，自动采集以下资产的 OHLCV（开/高/低/收/量）数据：
* **全球核心指数**：纳斯达克、标普500、恒生指数、恒生科技、上海金、COMEX黄金、越南ETF (VNM)。
* **美股七巨头 (Magnificent 7)**：Apple, Microsoft, Google, Amazon, Nvidia, Meta, Tesla。
* **恒生科技权重股**：腾讯、美团、小米、阿里、理想、快手等 Top 20 成分股。
* **港股创新药**：信达生物、百济神州、药明康德等核心标的。
* **新兴市场 (越南)**：FPT、Vingroup 等越南胡志明指数前十大权重股。

### 2. 高性能并发架构
* **多线程加速**：内置 `ThreadPoolExecutor` 线程池，支持并发采集，速度较传统单线程提升 3-4 倍。
* **智能防封锁**：
    * **随机休眠**：模拟人类操作间隔，降低 IP 被封风险。
    * **故障自动转移**：优先使用 AkShare (新浪/东方财富源)，失败后自动切换至 Yahoo Finance (YFinance) 或 FMP，确保数据获取成功率。
    * **底层抗阻塞**：通过 Monkey Patch 强制接管网络底层，防止因 SSL 握手或 DNS 解析导致的程序假死。

### 3. 标准化数据输出
* **统一格式**：无论数据源来自哪里，所有数据均被清洗并标准化为统一的 JSON 格式（`date`, `name`, `open`, `close`, `high`, `low`, `volume`）。
* **分类存储**：自动生成 `指数.json`, `恒生科技.json` 等独立文件，便于下游系统直接读取分析。

### 4. 自动化交付
* **邮件推送**：任务完成后，自动将生成的 5 个 JSON 数据文件打包，通过 SMTP (SSL/STARTTLS) 发送至指定邮箱。
* **云端就绪**：完美适配 GitHub Actions，支持通过环境变量 (`Secrets`) 安全配置邮箱凭证，实现每日定时自动运行（Cron Job）。

## 📊 数据示例

生成的 JSON 文件结构如下：

```json
{
    "meta": {
        "generated_at": "2025-12-29 08:00:00",
        "date_range": "2025-12-01 to 2025-12-29",
        "group_name": "指数"
    },
    "market_klines": [
        {
            "date": "2025-12-29",
            "name": "纳斯达克",
            "open": 15000.0,
            "close": 15100.0,
            "high": 15200.0,
            "low": 14900.0,
            "volume": 1000000.0
        },
        ...
    ]
}